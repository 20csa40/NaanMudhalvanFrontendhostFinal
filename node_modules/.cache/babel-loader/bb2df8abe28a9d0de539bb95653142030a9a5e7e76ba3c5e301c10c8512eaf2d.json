{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Home.css';import{useNavigate}from'react-router-dom';import axios from'axios';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const IndexForm=_ref=>{let{user,products}=_ref;const[isUserDetailsVisible,setIsUserDetailsVisible]=useState(false);const nav=useNavigate();const[query,setQuery]=useState('');const[searchedProducts,setSearchedProducts]=useState([]);useEffect(()=>{setSearchedProducts(products);},[products]);const handleSearch=()=>{const results=products.filter(product=>product.name.toLowerCase().includes(query.toLowerCase()));setSearchedProducts(results);};const addToCart=productId=>{axios.get(\"http://localhost:8000/cart/add/\".concat(productId),{headers:{\"Authorization\":'Bearer '+sessionStorage.getItem(\"AuthToken\")}}).then(response=>{Swal.fire({icon:\"success\",text:response.data,confirmButtonColor:\"green\"});}).catch(err=>{Swal.fire({icon:\"error\",text:err.data,confirmButtonColor:\"red\"});});};const toggleUserDetails=()=>{setIsUserDetailsVisible(!isUserDetailsVisible);};return/*#__PURE__*/_jsxs(\"div\",{className:\"index-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-section\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"app-name\",children:\"EcommerceWebsite\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products\",className:\"search-box\",value:query,onChange:e=>{setQuery(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",onClick:()=>{handleSearch();},children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",onMouseEnter:toggleUserDetails,onMouseLeave:toggleUserDetails,children:[/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:user.name}),isUserDetailsVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone Number: \",user.phoneNumber]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-button\",onClick:()=>{nav(\"/cart\");},children:\"Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-button\",onClick:()=>{nav(\"/history\");},children:\"History\"})]})]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.name]}),/*#__PURE__*/_jsx(\"p\",{children:\"Available Products:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:searchedProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",product.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: Rupees \",product.price]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8000/static/\"+product.imageSrc,alt:product.name})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(product.id),className:\"add-to-cart-button\",children:\"Add to Cart\"})]},product.id))})]});};export default IndexForm;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","Swal","jsx","_jsx","jsxs","_jsxs","IndexForm","_ref","user","products","isUserDetailsVisible","setIsUserDetailsVisible","nav","query","setQuery","searchedProducts","setSearchedProducts","handleSearch","results","filter","product","name","toLowerCase","includes","addToCart","productId","get","concat","headers","sessionStorage","getItem","then","response","fire","icon","text","data","confirmButtonColor","catch","err","toggleUserDetails","className","children","type","placeholder","value","onChange","e","target","onClick","onMouseEnter","onMouseLeave","email","phoneNumber","map","description","price","src","imageSrc","alt","id"],"sources":["/home/divum/Documents/NaanMudhalvan/Frontend/Frontend-task-3/src/Components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Home.css';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\n\nconst IndexForm = ({ user, products }) => {\n  const [isUserDetailsVisible, setIsUserDetailsVisible] = useState(false);\n\n  const nav = useNavigate();\n\n  const [query, setQuery] = useState('');\n  const [searchedProducts, setSearchedProducts] = useState([]);\n\n  useEffect(() => {\n    setSearchedProducts(products)\n  }, [products])\n\n  const handleSearch = () => {\n    const results = products.filter((product) =>\n      product.name.toLowerCase().includes(query.toLowerCase())\n    );\n    setSearchedProducts(results);\n  };\n\n  const addToCart = (productId) => {\n\n\n    axios.get(`http://localhost:8000/cart/add/${productId}`, {\n      headers: {\n        \"Authorization\": 'Bearer ' + sessionStorage.getItem(\"AuthToken\")\n      }\n    }).then(response => {\n      Swal.fire(\n        {\n          icon: \"success\",\n          text: response.data,\n          confirmButtonColor: \"green\"\n        }\n      )\n    }).catch(err => {\n      Swal.fire(\n        {\n          icon: \"error\",\n          text: err.data,\n          confirmButtonColor: \"red\"\n        }\n      )\n    })\n\n  };\n\n  const toggleUserDetails = () => {\n    setIsUserDetailsVisible(!isUserDetailsVisible);\n  };\n\n  return (\n    <div className=\"index-container\">\n      <nav className=\"navbar\">\n        <div className=\"left-section\">\n          <span className=\"app-name\">EcommerceWebsite</span>\n          <input type=\"text\" placeholder=\"Search products\" className=\"search-box\" value={query} onChange={(e) => {\n            setQuery(e.target.value)\n          }} />\n          <button className=\"search-button\" onClick={() => {\n            handleSearch()\n          }}>Search</button>\n        </div>\n        <div className=\"right-section\">\n          <div className=\"user-info\" onMouseEnter={toggleUserDetails} onMouseLeave={toggleUserDetails}>\n            <span className=\"username\">{user.name}</span>\n            {isUserDetailsVisible && (\n              <div className=\"user-details\">\n                <p>Name: {user.name}</p>\n                <p>Email: {user.email}</p>\n                <p>Phone Number: {user.phoneNumber}</p>\n              </div>\n            )}\n          </div>\n          <button className=\"cart-button\" onClick={() => {\n            nav(\"/cart\")\n          }}>Cart</button>\n\n          <button className='cart-button'\n          onClick={()=>{\n            nav(\"/history\")\n          }}\n          >History</button>\n        </div>\n      </nav>\n      <h2>Welcome, {user.name}</h2>\n\n      <p>Available Products:</p>\n      <div className=\"products\">\n        {searchedProducts.map((product) => (\n          <div key={product.id} className=\"product\">\n            <div className=\"product-info\">\n              <h3>{product.name}</h3>\n              <p>Description: {product.description}</p>\n              <p>Price: Rupees {product.price}</p>\n            </div>\n            <div className=\"product-image\">\n              <img src={\"http://localhost:8000/static/\" + product.imageSrc} alt={product.name} />\n            </div>\n            <button onClick={() => addToCart(product.id)} className=\"add-to-cart-button\">\n              Add to Cart\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default IndexForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}