{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Home from'../Components/Home';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const Index=()=>{const[userData,setUserData]=useState({});const[products,setProducts]=useState([]);const nav=useNavigate();useEffect(()=>{if(sessionStorage.getItem(\"AuthToken\")===null){nav(\"/\");return;}axios.get('http://localhost:8000/customer/getData/',{headers:{\"Authorization\":'Bearer '+sessionStorage.getItem(\"AuthToken\")}}).then(response=>{setUserData(response.data);}).catch(err=>{console.log(err);nav(\"/\");});axios.get('http://localhost:8000/customer/getProducts/',{headers:{\"Authorization\":'Bearer '+sessionStorage.getItem(\"AuthToken\")}}).then(response=>{setProducts(response.data);}).catch(err=>{console.log(err);nav(\"/\");});},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Home,{user:userData,products:products})});};export default Index;","map":{"version":3,"names":["React","useState","useEffect","axios","Home","useNavigate","jsx","_jsx","Index","userData","setUserData","products","setProducts","nav","sessionStorage","getItem","get","headers","then","response","data","catch","err","console","log","children","user"],"sources":["/home/divum/Documents/NaanMudhalvan/Frontend/Frontend-task-3/src/Pages/Index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Home from '../Components/Home';\nimport { useNavigate } from 'react-router-dom';\n\nconst Index = () => {\n  const [userData, setUserData] = useState({});\n  const [products, setProducts] = useState([]);\n  const nav = useNavigate()\n\n  useEffect(() => {\n\n    if(sessionStorage.getItem(\"AuthToken\")===null){\n      nav(\"/\");\n      return;\n    }\n\n    axios.get('http://localhost:8000/customer/getData/',{\n      headers:{\n        \"Authorization\":'Bearer '+sessionStorage.getItem(\"AuthToken\")\n      }\n    }).then((response) => {\n      setUserData(response.data);\n    }).catch(err=>{\n      console.log(err)\n      nav(\"/\")\n    });\n    axios.get('http://localhost:8000/customer/getProducts/',{\n      headers:{\n        \"Authorization\":'Bearer '+sessionStorage.getItem(\"AuthToken\")\n      }\n    }).then((response) => {\n      setProducts(response.data);\n    }).catch(err=>{\n      console.log(err)\n      nav(\"/\")\n    });\n  }, []);\n\n  return (\n    <div>\n      <Home user={userData} products={products} />\n    </div>\n  );\n};\n\nexport default Index;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5C,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAY,GAAG,CAAGR,WAAW,CAAC,CAAC,CAEzBH,SAAS,CAAC,IAAM,CAEd,GAAGY,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAC5CF,GAAG,CAAC,GAAG,CAAC,CACR,OACF,CAEAV,KAAK,CAACa,GAAG,CAAC,yCAAyC,CAAC,CAClDC,OAAO,CAAC,CACN,eAAe,CAAC,SAAS,CAACH,cAAc,CAACC,OAAO,CAAC,WAAW,CAC9D,CACF,CAAC,CAAC,CAACG,IAAI,CAAEC,QAAQ,EAAK,CACpBT,WAAW,CAACS,QAAQ,CAACC,IAAI,CAAC,CAC5B,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAE,CACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBT,GAAG,CAAC,GAAG,CAAC,CACV,CAAC,CAAC,CACFV,KAAK,CAACa,GAAG,CAAC,6CAA6C,CAAC,CACtDC,OAAO,CAAC,CACN,eAAe,CAAC,SAAS,CAACH,cAAc,CAACC,OAAO,CAAC,WAAW,CAC9D,CACF,CAAC,CAAC,CAACG,IAAI,CAAEC,QAAQ,EAAK,CACpBP,WAAW,CAACO,QAAQ,CAACC,IAAI,CAAC,CAC5B,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAE,CACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBT,GAAG,CAAC,GAAG,CAAC,CACV,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEN,IAAA,QAAAkB,QAAA,cACElB,IAAA,CAACH,IAAI,EAACsB,IAAI,CAAEjB,QAAS,CAACE,QAAQ,CAAEA,QAAS,CAAE,CAAC,CACzC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}