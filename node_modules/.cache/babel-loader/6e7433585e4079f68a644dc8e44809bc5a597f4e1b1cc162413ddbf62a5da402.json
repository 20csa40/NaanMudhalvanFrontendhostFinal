{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import Swal from'sweetalert2';import\"./HistoryForm.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const HistoryForm=()=>{const[historyData,SetHistoryData]=useState([]);const navigate=useNavigate();useEffect(()=>{getHistory();},[]);const getHistory=()=>{axios.get(\"http://localhost:8000/order/getHistory/\",{headers:{\"Authorization\":'Bearer '+sessionStorage.getItem(\"AuthToken\")}}).then(response=>{SetHistoryData(response.data);}).catch(err=>{Swal.fire({icon:\"error\",text:err.data});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-head\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"Title\",children:\"History\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>{navigate(\"/home\");},children:\"Home\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Histories\",children:historyData.map((history,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"history\",id:index,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"S No:\",index+1]}),history.productsList.map((products,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mini-card\",id:i,children:[/*#__PURE__*/_jsx(\"p\",{children:products.name}),/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8000/static/\"+products.imageSrc})]})),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"address:\",history.address]})]}))})]});};export default HistoryForm;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Swal","jsx","_jsx","jsxs","_jsxs","HistoryForm","historyData","SetHistoryData","navigate","getHistory","get","headers","sessionStorage","getItem","then","response","data","catch","err","fire","icon","text","children","className","onClick","map","history","index","id","productsList","products","i","name","src","imageSrc","address"],"sources":["/home/divum/Documents/NaanMudhalvan/Frontend/Frontend-task-3/src/Components/HistoryForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Swal from 'sweetalert2'\nimport \"./HistoryForm.css\"\n\n\nconst HistoryForm = () => {\n\n\n    const [historyData, SetHistoryData] = useState([]);\n    const navigate =useNavigate()\n\n\n    useEffect(() => {\n        getHistory()\n    }, [])\n\n    const getHistory = () => {\n        axios.get(`http://localhost:8000/order/getHistory/`, {\n            headers: {\n                \"Authorization\": 'Bearer ' + sessionStorage.getItem(\"AuthToken\")\n            }\n        }).then((response)=>{\n            SetHistoryData(response.data)\n        }).catch(err=>{\n            Swal.fire({\n                icon:\"error\",\n                text:err.data\n            })\n        })\n    }\n\n    return (\n        <div>\n            <div className='history-head'>\n                <div>\n                    <p className='Title'>History</p>\n                </div>\n                <div>\n                    <button className='button' onClick={() => {\n                        navigate(\"/home\")\n                    }}>\n                        Home\n                    </button>\n                </div>\n            </div>\n            <div className='Histories'>\n                {historyData.map((history, index) => (\n                    <div className='history' id={index}>\n                        <h3>S No:{index+1}</h3>\n                        {history.productsList.map((products, i) => (\n                            <div className='mini-card' id={i}>\n                                <p>{products.name}</p>\n                                <img src={\"http://localhost:8000/static/\" + products.imageSrc} />\n                            </div>\n                        ))}\n                        <br></br>\n                        <p>address:{history.address}</p>\n\n                    </div>\n                )\n                )}\n            </div>\n        </div>\n    );\n\n\n}\n\nexport default HistoryForm;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,aAAa,CAC9B,MAAO,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG1B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CAGtB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAAY,QAAQ,CAAEV,WAAW,CAAC,CAAC,CAG7BD,SAAS,CAAC,IAAM,CACZY,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAGA,CAAA,GAAM,CACrBV,KAAK,CAACW,GAAG,2CAA4C,CACjDC,OAAO,CAAE,CACL,eAAe,CAAE,SAAS,CAAGC,cAAc,CAACC,OAAO,CAAC,WAAW,CACnE,CACJ,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,EAAG,CAChBR,cAAc,CAACQ,QAAQ,CAACC,IAAI,CAAC,CACjC,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAE,CACVlB,IAAI,CAACmB,IAAI,CAAC,CACNC,IAAI,CAAC,OAAO,CACZC,IAAI,CAACH,GAAG,CAACF,IACb,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CAAC,CAED,mBACIZ,KAAA,QAAAkB,QAAA,eACIlB,KAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAD,QAAA,eACzBpB,IAAA,QAAAoB,QAAA,cACIpB,IAAA,MAAGqB,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,SAAO,CAAG,CAAC,CAC/B,CAAC,cACNpB,IAAA,QAAAoB,QAAA,cACIpB,IAAA,WAAQqB,SAAS,CAAC,QAAQ,CAACC,OAAO,CAAEA,CAAA,GAAM,CACtChB,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAE,CAAAc,QAAA,CAAC,MAEH,CAAQ,CAAC,CACR,CAAC,EACL,CAAC,cACNpB,IAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAD,QAAA,CACrBhB,WAAW,CAACmB,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC5BvB,KAAA,QAAKmB,SAAS,CAAC,SAAS,CAACK,EAAE,CAAED,KAAM,CAAAL,QAAA,eAC/BlB,KAAA,OAAAkB,QAAA,EAAI,OAAK,CAACK,KAAK,CAAC,CAAC,EAAK,CAAC,CACtBD,OAAO,CAACG,YAAY,CAACJ,GAAG,CAAC,CAACK,QAAQ,CAAEC,CAAC,gBAClC3B,KAAA,QAAKmB,SAAS,CAAC,WAAW,CAACK,EAAE,CAAEG,CAAE,CAAAT,QAAA,eAC7BpB,IAAA,MAAAoB,QAAA,CAAIQ,QAAQ,CAACE,IAAI,CAAI,CAAC,cACtB9B,IAAA,QAAK+B,GAAG,CAAE,+BAA+B,CAAGH,QAAQ,CAACI,QAAS,CAAE,CAAC,EAChE,CACR,CAAC,cACFhC,IAAA,QAAQ,CAAC,cACTE,KAAA,MAAAkB,QAAA,EAAG,UAAQ,CAACI,OAAO,CAACS,OAAO,EAAI,CAAC,EAE/B,CAET,CAAC,CACA,CAAC,EACL,CAAC,CAId,CAAC,CAED,cAAe,CAAA9B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}